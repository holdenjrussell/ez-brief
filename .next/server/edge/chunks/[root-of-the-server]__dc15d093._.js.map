{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 23, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/middleware.ts"],"sourcesContent":["import { NextResponse } from 'next/server'\nimport type { NextRequest } from 'next/server'\nimport { createClient } from '@supabase/supabase-js'\n\nexport async function middleware(request: NextRequest) {\n  // Create a Supabase client configured to use cookies\n  const supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL!\n  const supabaseKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!\n  const supabase = createClient(supabaseUrl, supabaseKey, {\n    auth: {\n      flowType: 'pkce',\n      detectSessionInUrl: false,\n      persistSession: false,\n    },\n  })\n\n  // Get the session from the request cookie\n  const { data: { session } } = await supabase.auth.getSession()\n\n  // If there's no session and the user is trying to access a protected route\n  const isProtectedRoute = request.nextUrl.pathname.startsWith('/dashboard')\n  const isAuthRoute = request.nextUrl.pathname.startsWith('/login') || \n                       request.nextUrl.pathname.startsWith('/signup')\n\n  if (!session && isProtectedRoute) {\n    const redirectUrl = new URL('/login', request.url)\n    return NextResponse.redirect(redirectUrl)\n  }\n\n  // If the user is authenticated and trying to access auth routes\n  if (session && isAuthRoute) {\n    const redirectUrl = new URL('/dashboard', request.url)\n    return NextResponse.redirect(redirectUrl)\n  }\n\n  return NextResponse.next()\n}\n\nexport const config = {\n  matcher: [\n    '/dashboard/:path*',\n    '/login',\n    '/signup',\n  ],\n} "],"names":[],"mappings":";;;;AAAA;AAAA;AAEA;;;AAEO,eAAe,WAAW,OAAoB;IACnD,qDAAqD;IACrD,MAAM,cAAc,QAAQ,GAAG,CAAC,wBAAwB;IACxD,MAAM,cAAc,QAAQ,GAAG,CAAC,6BAA6B;IAC7D,MAAM,WAAW,CAAA,GAAA,+LAAA,CAAA,eAAY,AAAD,EAAE,aAAa,aAAa;QACtD,MAAM;YACJ,UAAU;YACV,oBAAoB;YACpB,gBAAgB;QAClB;IACF;IAEA,0CAA0C;IAC1C,MAAM,EAAE,MAAM,EAAE,OAAO,EAAE,EAAE,GAAG,MAAM,SAAS,IAAI,CAAC,UAAU;IAE5D,2EAA2E;IAC3E,MAAM,mBAAmB,QAAQ,OAAO,CAAC,QAAQ,CAAC,UAAU,CAAC;IAC7D,MAAM,cAAc,QAAQ,OAAO,CAAC,QAAQ,CAAC,UAAU,CAAC,aACnC,QAAQ,OAAO,CAAC,QAAQ,CAAC,UAAU,CAAC;IAEzD,IAAI,CAAC,WAAW,kBAAkB;QAChC,MAAM,cAAc,IAAI,IAAI,UAAU,QAAQ,GAAG;QACjD,OAAO,6LAAA,CAAA,eAAY,CAAC,QAAQ,CAAC;IAC/B;IAEA,gEAAgE;IAChE,IAAI,WAAW,aAAa;QAC1B,MAAM,cAAc,IAAI,IAAI,cAAc,QAAQ,GAAG;QACrD,OAAO,6LAAA,CAAA,eAAY,CAAC,QAAQ,CAAC;IAC/B;IAEA,OAAO,6LAAA,CAAA,eAAY,CAAC,IAAI;AAC1B;AAEO,MAAM,SAAS;IACpB,SAAS;QACP;QACA;QACA;KACD;AACH"}}]
}